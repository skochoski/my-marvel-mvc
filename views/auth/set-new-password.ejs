<!DOCTYPE html>
<html lang="en" class="h-100">
  <%- include('../includes/head.ejs') %>
  <body class="d-flex flex-column h-100">
    <%- include('../includes/header.ejs') %>
    <main class="row p-3">
      <div class="col-md-10 col-lg-8 mx-auto pt-3">

        <form method="POST" action="/set-new-password">
          <div class="mb-3">
            <label for="password" class="form-label text-white">Password</label>
            <% if ('newPassword' in validationErrors) { %>
              <div class="alert alert-danger alert-dismissible fade show text-center" role="alert">
                <%=validationErrors.newPassword.msg %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            <% } %>
            <input
              class="form-control <%= 'newPassword' in validationErrors ? 'invalid' : '' %>"
              type="password"
              id="password"
              name="newPassword"
              value="<%= previousInvalidInput %>"
              required
            >
          </div>
          <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
            <input type="hidden" name="userId" value="<%= userId %>">
            <input type="hidden" name="passwordToken" value="<%= passwordToken %>">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
            <button class="btn btn-light px-4 fw-bolder">Update Password!</button>
          </div>
        </form>

      </div>
    </main>
    <%- include('../includes/footer.ejs') %>
  </body>
</html>
